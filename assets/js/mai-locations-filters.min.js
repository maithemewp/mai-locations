window.initMap=function(){const e=new URL(window.location.href),t=document.querySelectorAll(".mailocations-autocomplete"),a=document.querySelectorAll(".mailocations-filter"),n=document.querySelectorAll(".mailocations-filter-clear"),i=maiLocationsVars.defaults;var r=maiLocationsVars.params,o=function(){Object.keys(i).forEach((t=>{if(t in r){var a=Array.isArray(r[t])?r[t].join():r[t].toString(),n=Array.isArray(i[t])?i[t]:i[t].toString();""!==a&&a!==n?e.searchParams.set(t,a):e.searchParams.delete(t)}})),window.location=e.href};t.forEach((e=>{var t=e.parentElement.parentElement.querySelectorAll(".mailocations-autocomplete-distance"),a=e.parentElement.parentElement.querySelectorAll(".mailocations-autocomplete-unit"),n=e.parentElement.querySelectorAll(".mailocations-autocomplete-clear")[0];t="undefined"!==t?t[0]:"",a="undefined"!==a?a[0]:"";const i=new google.maps.places.Autocomplete(e,{componentRestrictions:{country:"us"},fields:["geometry","name"],strictBounds:!1});i.addListener("place_changed",(function(){var t=i.getPlace(),a=t.geometry.location.lat(),n=t.geometry.location.lng();r.address=e.value,r.lat=a,r.lng=n,o()})),t&&t.addEventListener("change",(function(){r.distance=this.value,r.address&&o()})),a&&a.addEventListener("change",(function(){r.unit=this.value,r.address&&o()})),n.addEventListener("click",(function(){var t=e.getAttribute("value");e.setAttribute("value",""),e.value="",r.address="",r.lat="",r.lng="",t&&o()}))})),a.forEach((e=>{var t;e.addEventListener("change",(function(){t="select"===this.tagName.toLowerCase(),r[this.dataset.filter]=this.dataset.filter in r?r[this.dataset.filter]:[],this.checked||t?t&&!this.value?r[this.dataset.filter]=[]:r[this.dataset.filter].push(this.value):r[this.dataset.filter].splice(r[this.dataset.filter].indexOf(this.value),1),o()}))})),n.forEach((e=>{e.addEventListener("click",(function(){Object.keys(r).forEach((e=>{r[e]=""})),o()}))}))};